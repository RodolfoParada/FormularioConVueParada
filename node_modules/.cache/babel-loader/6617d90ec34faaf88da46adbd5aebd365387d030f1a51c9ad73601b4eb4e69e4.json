{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\nrequire(\"core-js/modules/es.array.push.js\");\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.VueForm = factory();\n})(this, function () {\n  'use strict';\n\n  var emailRegExp = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i; // from angular\n  var urlRegExp = /^(http\\:\\/\\/|https\\:\\/\\/)(.{4,})$/;\n  var email = function email(value, attrValue, vnode) {\n    return emailRegExp.test(value);\n  };\n  email._allowNulls = true;\n  var number = function number(value, attrValue, vnode) {\n    return !isNaN(value);\n  };\n  number._allowNulls = true;\n  var url = function url(value, attrValue, vnode) {\n    return urlRegExp.test(value);\n  };\n  url._allowNulls = true;\n  var validators = {\n    email: email,\n    number: number,\n    url: url,\n    required: function required(value, attrValue, vnode) {\n      if (attrValue === false) {\n        return true;\n      }\n      if (value === 0) {\n        return true;\n      }\n      if (vnode.data.attrs && typeof vnode.data.attrs.bool !== 'undefined' || vnode.componentOptions && vnode.componentOptions.propsData && typeof vnode.componentOptions.propsData.bool !== 'undefined') {\n        // bool attribute is present, allow false pass validation\n        if (value === false) {\n          return true;\n        }\n      }\n      if (Array.isArray(value)) {\n        return !!value.length;\n      }\n      return !!value;\n    },\n    minlength: function minlength(value, length) {\n      return value.length >= length;\n    },\n    maxlength: function maxlength(value, length) {\n      return length >= value.length;\n    },\n    pattern: function pattern(value, _pattern) {\n      var patternRegExp = new RegExp('^' + _pattern + '$');\n      return patternRegExp.test(value);\n    },\n    min: function min(value, _min, vnode) {\n      if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n        return +value >= +_min;\n      }\n      return value >= _min;\n    },\n    max: function max(value, _max, vnode) {\n      if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n        return +_max >= +value;\n      }\n      return _max >= value;\n    }\n  };\n  var config = {\n    validators: validators,\n    formComponent: 'VueForm',\n    formTag: 'form',\n    messagesComponent: 'FieldMessages',\n    messagesTag: 'div',\n    showMessages: '',\n    validateComponent: 'Validate',\n    validateTag: 'div',\n    fieldComponent: 'Field',\n    fieldTag: 'div',\n    formClasses: {\n      dirty: 'vf-form-dirty',\n      pristine: 'vf-form-pristine',\n      valid: 'vf-form-valid',\n      invalid: 'vf-form-invalid',\n      touched: 'vf-form-touched',\n      untouched: 'vf-form-untouched',\n      focused: 'vf-form-focused',\n      submitted: 'vf-form-submitted',\n      pending: 'vf-form-pending'\n    },\n    validateClasses: {\n      dirty: 'vf-field-dirty',\n      pristine: 'vf-field-pristine',\n      valid: 'vf-field-valid',\n      invalid: 'vf-field-invalid',\n      touched: 'vf-field-touched',\n      untouched: 'vf-field-untouched',\n      focused: 'vf-field-focused',\n      submitted: 'vf-field-submitted',\n      pending: 'vf-field-pending'\n    },\n    inputClasses: {\n      dirty: 'vf-dirty',\n      pristine: 'vf-pristine',\n      valid: 'vf-valid',\n      invalid: 'vf-invalid',\n      touched: 'vf-touched',\n      untouched: 'vf-untouched',\n      focused: 'vf-focused',\n      submitted: 'vf-submitted',\n      pending: 'vf-pending'\n    },\n    Promise: typeof Promise === 'function' ? Promise : null\n  };\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n  var defineProperty = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  };\n  var inherits = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n  var possibleConstructorReturn = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n  function getClasses(classConfig, state) {\n    var _ref;\n    return _ref = {}, defineProperty(_ref, classConfig.dirty, state.$dirty), defineProperty(_ref, classConfig.pristine, state.$pristine), defineProperty(_ref, classConfig.valid, state.$valid), defineProperty(_ref, classConfig.invalid, state.$invalid), defineProperty(_ref, classConfig.touched, state.$touched), defineProperty(_ref, classConfig.untouched, state.$untouched), defineProperty(_ref, classConfig.focused, state.$focused), defineProperty(_ref, classConfig.pending, state.$pending), defineProperty(_ref, classConfig.submitted, state.$submitted), _ref;\n  }\n  function addClass(el, className) {\n    if (el.classList) {\n      el.classList.add(className);\n    } else {\n      el.className += ' ' + className;\n    }\n  }\n  function removeClass(el, className) {\n    if (el.classList) {\n      el.classList.remove(className);\n    } else {\n      el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    }\n  }\n  function vModelValue(data) {\n    if (data.model) {\n      return data.model.value;\n    }\n    return data.directives.filter(function (v) {\n      return v.name === 'model';\n    })[0].value;\n  }\n  function getVModelAndLabel(nodes, config) {\n    var foundVnodes = {\n      vModel: [],\n      label: null,\n      messages: null\n    };\n    if (!nodes) {\n      return foundVnodes;\n    }\n    function traverse(nodes) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        if (node.componentOptions) {\n          if (node.componentOptions.tag === hyphenate(config.messagesComponent)) {\n            foundVnodes.messages = node;\n          }\n        }\n        if (node.tag === 'label' && !foundVnodes.label) {\n          foundVnodes.label = node;\n        }\n        if (node.data) {\n          if (node.data.model) {\n            // model check has to come first. If a component has\n            // a directive and v-model, the directive will be in .directives\n            // and v-modelstored in .model\n            foundVnodes.vModel.push(node);\n          } else if (node.data.directives) {\n            var match = node.data.directives.filter(function (v) {\n              return v.name === 'model';\n            });\n            if (match.length) {\n              foundVnodes.vModel.push(node);\n            }\n          }\n        }\n        if (node.children) {\n          traverse(node.children);\n        } else if (node.componentOptions && node.componentOptions.children) {\n          traverse(node.componentOptions.children);\n        }\n      }\n    }\n    traverse(nodes);\n    return foundVnodes;\n  }\n  function getName(vnode) {\n    if (vnode.data && vnode.data.attrs && vnode.data.attrs.name) {\n      return vnode.data.attrs.name;\n    } else if (vnode.componentOptions && vnode.componentOptions.propsData && vnode.componentOptions.propsData.name) {\n      return vnode.componentOptions.propsData.name;\n    }\n  }\n  var hyphenateRE = /([^-])([A-Z])/g;\n  function hyphenate(str) {\n    return str.replace(hyphenateRE, '$1-$2').replace(hyphenateRE, '$1-$2').toLowerCase();\n  }\n  function randomId() {\n    return Math.random().toString(36).substr(2, 10);\n  }\n\n  // https://davidwalsh.name/javascript-debounce-function\n  function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n      var context = this,\n        args = arguments;\n      var later = function later() {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  }\n  function isShallowObjectDifferent(a, b) {\n    var aValue = '';\n    var bValue = '';\n    Object.keys(a).sort().filter(function (v) {\n      return typeof a[v] !== 'function';\n    }).forEach(function (v) {\n      return aValue += a[v];\n    });\n    Object.keys(b).sort().filter(function (v) {\n      return typeof a[v] !== 'function';\n    }).forEach(function (v) {\n      return bValue += b[v];\n    });\n    return aValue !== bValue;\n  }\n  var vueFormConfig = 'VueFormProviderConfig' + randomId();\n  var vueFormState = 'VueFormProviderState' + randomId();\n  var vueFormParentForm = 'VueFormProviderParentForm' + randomId();\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var toStr = Object.prototype.toString;\n  var defineProperty$1 = Object.defineProperty;\n  var gOPD = Object.getOwnPropertyDescriptor;\n  var isArray = function isArray(arr) {\n    if (typeof Array.isArray === 'function') {\n      return Array.isArray(arr);\n    }\n    return toStr.call(arr) === '[object Array]';\n  };\n  var isPlainObject = function isPlainObject(obj) {\n    if (!obj || toStr.call(obj) !== '[object Object]') {\n      return false;\n    }\n    var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n    var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n    // Not own constructor property must be Object\n    if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n      return false;\n    }\n\n    // Own properties are enumerated firstly, so to speed up,\n    // if last one is own, then all properties are own.\n    var key;\n    for (key in obj) {/**/}\n    return typeof key === 'undefined' || hasOwn.call(obj, key);\n  };\n\n  // If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\n  var setProperty = function setProperty(target, options) {\n    if (defineProperty$1 && options.name === '__proto__') {\n      defineProperty$1(target, options.name, {\n        enumerable: true,\n        configurable: true,\n        value: options.newValue,\n        writable: true\n      });\n    } else {\n      target[options.name] = options.newValue;\n    }\n  };\n\n  // Return undefined instead of __proto__ if '__proto__' is not an own property\n  var getProperty = function getProperty(obj, name) {\n    if (name === '__proto__') {\n      if (!hasOwn.call(obj, name)) {\n        return void 0;\n      } else if (gOPD) {\n        // In early versions of node, obj['__proto__'] is buggy when obj has\n        // __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n        return gOPD(obj, name).value;\n      }\n    }\n    return obj[name];\n  };\n  var extend = function extend() {\n    var options, name, src, copy, copyIsArray, clone;\n    var target = arguments[0];\n    var i = 1;\n    var length = arguments.length;\n    var deep = false;\n\n    // Handle a deep copy situation\n    if (typeof target === 'boolean') {\n      deep = target;\n      target = arguments[1] || {};\n      // skip the boolean and the target\n      i = 2;\n    }\n    if (target == null || typeof target !== 'object' && typeof target !== 'function') {\n      target = {};\n    }\n    for (; i < length; ++i) {\n      options = arguments[i];\n      // Only deal with non-null/undefined values\n      if (options != null) {\n        // Extend the base object\n        for (name in options) {\n          src = getProperty(target, name);\n          copy = getProperty(options, name);\n\n          // Prevent never-ending loop\n          if (target !== copy) {\n            // Recurse if we're merging plain objects or arrays\n            if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n              if (copyIsArray) {\n                copyIsArray = false;\n                clone = src && isArray(src) ? src : [];\n              } else {\n                clone = src && isPlainObject(src) ? src : {};\n              }\n\n              // Never move original objects, clone them\n              setProperty(target, {\n                name: name,\n                newValue: extend(deep, clone, copy)\n              });\n\n              // Don't bring in undefined values\n            } else if (typeof copy !== 'undefined') {\n              setProperty(target, {\n                name: name,\n                newValue: copy\n              });\n            }\n          }\n        }\n      }\n    }\n\n    // Return the modified object\n    return target;\n  };\n  var vueForm = {\n    render: function render(h) {\n      var _this = this;\n      var attrs = {};\n      if (typeof window !== 'undefined') {\n        attrs.novalidate = '';\n      }\n      return h(this.tag || this.vueFormConfig.formTag, {\n        on: {\n          submit: function submit(event) {\n            if (_this.state.$pending) {\n              event.preventDefault();\n              _this.vueFormConfig.Promise.all(_this.promises).then(function () {\n                _this.state._submit();\n                _this.$emit('submit', event);\n                _this.promises = [];\n              });\n            } else {\n              _this.state._submit();\n              _this.$emit('submit', event);\n            }\n          },\n          reset: function reset(event) {\n            _this.state._reset();\n            _this.$emit('reset', event);\n          }\n        },\n        class: this.className,\n        attrs: attrs\n      }, [this.$slots.default]);\n    },\n    props: {\n      state: {\n        type: Object,\n        required: true\n      },\n      tag: String,\n      showMessages: String\n    },\n    inject: {\n      vueFormConfig: vueFormConfig\n    },\n    provide: function provide() {\n      var _ref;\n      return _ref = {}, defineProperty(_ref, vueFormState, this.state), defineProperty(_ref, vueFormParentForm, this), _ref;\n    },\n    data: function data() {\n      return {\n        promises: []\n      };\n    },\n    created: function created() {\n      var _this2 = this;\n      if (!this.state) {\n        return;\n      }\n      var controls = {};\n      var state = this.state;\n      var formstate = {\n        $dirty: false,\n        $pristine: true,\n        $valid: true,\n        $invalid: false,\n        $submitted: false,\n        $touched: false,\n        $untouched: true,\n        $focused: false,\n        $pending: false,\n        $error: {},\n        $submittedState: {},\n        _id: '',\n        _submit: function _submit() {\n          _this2.state.$submitted = true;\n          _this2.state._cloneState();\n        },\n        _cloneState: function _cloneState() {\n          var cloned = JSON.parse(JSON.stringify(state));\n          delete cloned.$submittedState;\n          Object.keys(cloned).forEach(function (key) {\n            _this2.$set(_this2.state.$submittedState, key, cloned[key]);\n          });\n        },\n        _addControl: function _addControl(ctrl) {\n          controls[ctrl.$name] = ctrl;\n          _this2.$set(state, ctrl.$name, ctrl);\n        },\n        _removeControl: function _removeControl(ctrl) {\n          delete controls[ctrl.$name];\n          _this2.$delete(_this2.state, ctrl.$name);\n          _this2.$delete(_this2.state.$error, ctrl.$name);\n        },\n        _validate: function _validate() {\n          Object.keys(controls).forEach(function (key) {\n            controls[key]._validate();\n          });\n        },\n        _reset: function _reset() {\n          state.$submitted = false;\n          state.$pending = false;\n          state.$submittedState = {};\n          Object.keys(controls).forEach(function (key) {\n            var control = controls[key];\n            control._hasFocused = false;\n            control._setUntouched();\n            control._setPristine();\n            control.$submitted = false;\n            control.$pending = false;\n          });\n        }\n      };\n      Object.keys(formstate).forEach(function (key) {\n        _this2.$set(_this2.state, key, formstate[key]);\n      });\n      this.$watch('state', function () {\n        var isDirty = false;\n        var isValid = true;\n        var isTouched = false;\n        var isFocused = false;\n        var isPending = false;\n        Object.keys(controls).forEach(function (key) {\n          var control = controls[key];\n          control.$submitted = state.$submitted;\n          if (control.$dirty) {\n            isDirty = true;\n          }\n          if (control.$touched) {\n            isTouched = true;\n          }\n          if (control.$focused) {\n            isFocused = true;\n          }\n          if (control.$pending) {\n            isPending = true;\n          }\n          if (!control.$valid) {\n            isValid = false;\n            // add control to errors\n            _this2.$set(state.$error, control.$name, control);\n          } else {\n            _this2.$delete(state.$error, control.$name);\n          }\n        });\n        state.$dirty = isDirty;\n        state.$pristine = !isDirty;\n        state.$touched = isTouched;\n        state.$untouched = !isTouched;\n        state.$focused = isFocused;\n        state.$valid = isValid;\n        state.$invalid = !isValid;\n        state.$pending = isPending;\n      }, {\n        deep: true,\n        immediate: true\n      });\n\n      /* watch pristine? if set to true, set all children to pristine\r\n      Object.keys(controls).forEach((ctrl) => {\r\n        controls[ctrl].setPristine();\r\n      });*/\n    },\n\n    computed: {\n      className: function className() {\n        var classes = getClasses(this.vueFormConfig.formClasses, this.state);\n        return classes;\n      }\n    },\n    methods: {\n      reset: function reset() {\n        this.state._reset();\n      },\n      validate: function validate() {\n        this.state._validate();\n      }\n    }\n  };\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n  var scope_eval = createCommonjsModule(function (module) {\n    // Generated by CoffeeScript 1.10.0\n    (function () {\n      var hasProp = {}.hasOwnProperty,\n        slice = [].slice;\n      module.exports = function (source, scope) {\n        var key, keys, value, values;\n        keys = [];\n        values = [];\n        for (key in scope) {\n          if (!hasProp.call(scope, key)) continue;\n          value = scope[key];\n          if (key === 'this') {\n            continue;\n          }\n          keys.push(key);\n          values.push(value);\n        }\n        return Function.apply(null, slice.call(keys).concat([\"return eval(\" + JSON.stringify(source) + \")\"])).apply(scope[\"this\"], values);\n      };\n    }).call(commonjsGlobal);\n  });\n  function findLabel(nodes) {\n    if (!nodes) {\n      return;\n    }\n    for (var i = 0; i < nodes.length; i++) {\n      var vnode = nodes[i];\n      if (vnode.tag === 'label') {\n        return nodes[i];\n      } else if (nodes[i].children) {\n        return findLabel(nodes[i].children);\n      }\n    }\n  }\n  var messages = {\n    inject: {\n      vueFormConfig: vueFormConfig,\n      vueFormState: vueFormState,\n      vueFormParentForm: vueFormParentForm\n    },\n    render: function render(h) {\n      var _this = this;\n      var children = [];\n      var field = this.formstate[this.fieldname];\n      if (field && field.$error && this.isShown) {\n        Object.keys(field.$error).forEach(function (key) {\n          if (_this.$slots[key] || _this.$scopedSlots[key]) {\n            var out = _this.$slots[key] || _this.$scopedSlots[key](field);\n            if (_this.autoLabel) {\n              var label = findLabel(out);\n              if (label) {\n                label.data = label.data || {};\n                label.data.attrs = label.data.attrs || {};\n                label.data.attrs.for = field._id;\n              }\n            }\n            children.push(out);\n          }\n        });\n        if (!children.length && field.$valid) {\n          if (this.$slots.default || this.$scopedSlots.default) {\n            var out = this.$slots.default || this.$scopedSlots.default(field);\n            if (this.autoLabel) {\n              var label = findLabel(out);\n              if (label) {\n                label.data = label.data || {};\n                label.data.attrs = label.data.attrs || {};\n                label.data.attrs.for = field._id;\n              }\n            }\n            children.push(out);\n          }\n        }\n      }\n      return h(this.tag || this.vueFormConfig.messagesTag, children);\n    },\n    props: {\n      state: Object,\n      name: String,\n      show: {\n        type: String,\n        default: ''\n      },\n      tag: {\n        type: String\n      },\n      autoLabel: Boolean\n    },\n    data: function data() {\n      return {\n        formstate: null,\n        fieldname: ''\n      };\n    },\n    created: function created() {\n      this.fieldname = this.name;\n      this.formstate = this.state || this.vueFormState;\n    },\n    computed: {\n      isShown: function isShown() {\n        var field = this.formstate[this.fieldname];\n        var show = this.show || this.vueFormParentForm.showMessages || this.vueFormConfig.showMessages;\n        if (!show || !field) {\n          return true;\n        }\n        return scope_eval(show, field);\n      }\n    }\n  };\n  var validate = {\n    render: function render(h) {\n      var _this = this;\n      var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n      var vModelnodes = foundVnodes.vModel;\n      var attrs = {\n        for: null\n      };\n      if (vModelnodes.length) {\n        this.name = getName(vModelnodes[0]);\n        if (foundVnodes.messages) {\n          this.$nextTick(function () {\n            var messagesVm = foundVnodes.messages.componentInstance;\n            if (messagesVm) {\n              messagesVm.fieldname = messagesVm.fieldname || _this.name;\n            }\n          });\n        }\n        if (this.autoLabel) {\n          var id = vModelnodes[0].data.attrs.id || this.fieldstate._id;\n          this.fieldstate._id = id;\n          vModelnodes[0].data.attrs.id = id;\n          if (foundVnodes.label) {\n            foundVnodes.label.data = foundVnodes.label.data || {};\n            foundVnodes.label.data.attrs = foundVnodes.label.data.attrs || {};\n            foundVnodes.label.data.attrs.for = id;\n          } else if (this.tag === 'label') {\n            attrs.for = id;\n          }\n        }\n        vModelnodes.forEach(function (vnode) {\n          if (!vnode.data.directives) {\n            vnode.data.directives = [];\n          }\n          vnode.data.directives.push({\n            name: 'vue-form-validator',\n            value: {\n              fieldstate: _this.fieldstate,\n              config: _this.vueFormConfig\n            }\n          });\n          vnode.data.attrs['vue-form-validator'] = '';\n          vnode.data.attrs['debounce'] = _this.debounce;\n        });\n      } else {\n        //console.warn('Element with v-model not found');\n      }\n      return h(this.tag || this.vueFormConfig.validateTag, {\n        'class': this.className,\n        attrs: attrs\n      }, this.$slots.default);\n    },\n    props: {\n      state: Object,\n      custom: null,\n      autoLabel: Boolean,\n      tag: {\n        type: String\n      },\n      debounce: Number\n    },\n    inject: {\n      vueFormConfig: vueFormConfig,\n      vueFormState: vueFormState,\n      vueFormParentForm: vueFormParentForm\n    },\n    data: function data() {\n      return {\n        name: '',\n        formstate: null,\n        fieldstate: {}\n      };\n    },\n    methods: {\n      getClasses: function getClasses$$1(classConfig) {\n        var s = this.fieldstate;\n        return Object.keys(s.$error).reduce(function (classes, error) {\n          classes[classConfig.invalid + '-' + hyphenate(error)] = true;\n          return classes;\n        }, getClasses(classConfig, s));\n      }\n    },\n    computed: {\n      className: function className() {\n        return this.getClasses(this.vueFormConfig.validateClasses);\n      },\n      inputClassName: function inputClassName() {\n        return this.getClasses(this.vueFormConfig.inputClasses);\n      }\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n      this.fieldstate.$name = this.name;\n      this.formstate._addControl(this.fieldstate);\n      var vModelEls = this.$el.querySelectorAll('[vue-form-validator]');\n\n      // add classes to the input element\n      this.$watch('inputClassName', function (value, oldValue) {\n        var out = void 0;\n        var _loop = function _loop(i, el) {\n          if (oldValue) {\n            Object.keys(oldValue).filter(function (k) {\n              return oldValue[k];\n            }).forEach(function (k) {\n              return removeClass(el, k);\n            });\n          }\n          out = [];\n          Object.keys(value).filter(function (k) {\n            return value[k];\n          }).forEach(function (k) {\n            out.push(k);\n            addClass(el, k);\n          });\n        };\n        for (var i = 0, el; el = vModelEls[i++];) {\n          _loop(i, el);\n        }\n        _this2.fieldstate._className = out;\n      }, {\n        deep: true,\n        immediate: true\n      });\n      this.$watch('name', function (value, oldValue) {\n        _this2.formstate._removeControl(_this2.fieldstate);\n        _this2.fieldstate.$name = value;\n        _this2.formstate._addControl(_this2.fieldstate);\n      });\n    },\n    created: function created() {\n      var _this4 = this;\n      this.formstate = this.state || this.vueFormState;\n      var vm = this;\n      var pendingValidators = [];\n      var _val = void 0;\n      var prevVnode = void 0;\n      this.fieldstate = {\n        $name: '',\n        $dirty: false,\n        $pristine: true,\n        $valid: true,\n        $invalid: false,\n        $touched: false,\n        $untouched: true,\n        $focused: false,\n        $pending: false,\n        $submitted: false,\n        $error: {},\n        $attrs: {},\n        _className: null,\n        _id: 'vf' + randomId(),\n        _setValidatorValidity: function _setValidatorValidity(validator, isValid) {\n          if (isValid) {\n            vm.$delete(this.$error, validator);\n          } else {\n            vm.$set(this.$error, validator, true);\n          }\n        },\n        _setValidity: function _setValidity(isValid) {\n          this.$valid = isValid;\n          this.$invalid = !isValid;\n        },\n        _setDirty: function _setDirty() {\n          this.$dirty = true;\n          this.$pristine = false;\n        },\n        _setPristine: function _setPristine() {\n          this.$dirty = false;\n          this.$pristine = true;\n        },\n        _setTouched: function _setTouched() {\n          this.$touched = true;\n          this.$untouched = false;\n        },\n        _setUntouched: function _setUntouched() {\n          this.$touched = false;\n          this.$untouched = true;\n        },\n        _setFocused: function _setFocused(value) {\n          this.$focused = typeof value === 'boolean' ? value : false;\n          if (this.$focused) {\n            this._setHasFocused();\n          } else {\n            this._setTouched();\n          }\n        },\n        _setHasFocused: function _setHasFocused() {\n          this._hasFocused = true;\n        },\n        _hasFocused: false,\n        _validators: {},\n        _validate: function _validate(vnode) {\n          var _this3 = this;\n          if (!vnode) {\n            vnode = prevVnode;\n          } else {\n            prevVnode = vnode;\n          }\n          this.$pending = true;\n          var isValid = true;\n          var emptyAndRequired = false;\n          var value = vModelValue(vnode.data);\n          _val = value;\n          var pending = {\n            promises: [],\n            names: []\n          };\n          pendingValidators.push(pending);\n          var attrs = vnode.data.attrs || {};\n          var childvm = vnode.componentInstance;\n          if (childvm && childvm._vfValidationData_) {\n            attrs = extend({}, attrs, childvm._vfValidationData_);\n          }\n          var propsData = vnode.componentOptions && vnode.componentOptions.propsData ? vnode.componentOptions.propsData : {};\n          Object.keys(this._validators).forEach(function (validator) {\n            // when value is empty and current validator is not the required validator, the field is valid\n            if ((value === '' || value === undefined || value === null) && validator !== 'required') {\n              _this3._setValidatorValidity(validator, true);\n              emptyAndRequired = true;\n              // return early, required validator will\n              // fall through if it is present\n              return;\n            }\n            var attrValue = typeof attrs[validator] !== 'undefined' ? attrs[validator] : propsData[validator];\n            var isFunction = typeof _this3._validators[validator] === 'function';\n\n            // match vue behaviour, ignore if attribute is null or undefined. But for type=email|url|number and custom validators, the value will be null, so allow with _allowNulls\n            if (isFunction && (attrValue === null || typeof attrValue === 'undefined') && !_this3._validators[validator]._allowNulls) {\n              return;\n            }\n            if (attrValue) {\n              _this3.$attrs[validator] = attrValue;\n            }\n            var result = isFunction ? _this3._validators[validator](value, attrValue, vnode) : vm.custom[validator];\n            if (typeof result === 'boolean') {\n              if (result) {\n                _this3._setValidatorValidity(validator, true);\n              } else {\n                isValid = false;\n                _this3._setValidatorValidity(validator, false);\n              }\n            } else {\n              pending.promises.push(result);\n              pending.names.push(validator);\n              vm.vueFormParentForm.promises.push(result);\n            }\n          });\n          if (pending.promises.length) {\n            vm.vueFormConfig.Promise.all(pending.promises).then(function (results) {\n              // only concerned with the last promise results, in case\n              // async responses return out of order\n              if (pending !== pendingValidators[pendingValidators.length - 1]) {\n                //console.log('ignoring old promise', pending.promises);\n                return;\n              }\n              pendingValidators = [];\n              results.forEach(function (result, i) {\n                var name = pending.names[i];\n                if (result) {\n                  _this3._setValidatorValidity(name, true);\n                } else {\n                  isValid = false;\n                  _this3._setValidatorValidity(name, false);\n                }\n              });\n              _this3._setValidity(isValid);\n              _this3.$pending = false;\n            });\n          } else {\n            this._setValidity(isValid);\n            this.$pending = false;\n          }\n        }\n      };\n\n      // add custom validators\n      if (this.custom) {\n        Object.keys(this.custom).forEach(function (prop) {\n          if (typeof _this4.custom[prop] === 'function') {\n            _this4.custom[prop]._allowNulls = true;\n            _this4.fieldstate._validators[prop] = _this4.custom[prop];\n          } else {\n            _this4.fieldstate._validators[prop] = _this4.custom[prop];\n          }\n        });\n      }\n      this.$watch('custom', function (v, oldV) {\n        if (!oldV || !v) {\n          return;\n        }\n        if (isShallowObjectDifferent(v, oldV)) {\n          _this4.fieldstate._validate();\n        }\n      }, {\n        deep: true\n      });\n    },\n    destroyed: function destroyed() {\n      this.formstate._removeControl(this.fieldstate);\n    }\n  };\n  var field = {\n    inject: {\n      vueFormConfig: vueFormConfig\n    },\n    render: function render(h) {\n      var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n      var vModelnodes = foundVnodes.vModel;\n      var attrs = {\n        for: null\n      };\n      if (vModelnodes.length) {\n        if (this.autoLabel) {\n          var id = vModelnodes[0].data.attrs && vModelnodes[0].data.attrs.id || 'vf' + randomId();\n          vModelnodes[0].data.attrs.id = id;\n          if (foundVnodes.label) {\n            foundVnodes.label.data = foundVnodes.label.data || {};\n            foundVnodes.label.data.attrs = foundVnodes.label.data.attrs = {};\n            foundVnodes.label.data.attrs.for = id;\n          } else if (this.tag === 'label') {\n            attrs.for = id;\n          }\n        }\n      }\n      return h(this.tag || this.vueFormConfig.fieldTag, {\n        attrs: attrs\n      }, this.$slots.default);\n    },\n    props: {\n      tag: {\n        type: String\n      },\n      autoLabel: {\n        type: Boolean,\n        default: true\n      }\n    }\n  };\n  var debouncedValidators = {};\n  function addValidators(attrs, validators, fieldValidators) {\n    Object.keys(attrs).forEach(function (attr) {\n      var prop = attr === 'type' ? attrs[attr].toLowerCase() : attr.toLowerCase();\n      if (validators[prop] && !fieldValidators[prop]) {\n        fieldValidators[prop] = validators[prop];\n      }\n    });\n  }\n  function compareChanges(vnode, oldvnode, validators) {\n    var hasChanged = false;\n    var attrs = vnode.data.attrs || {};\n    var oldAttrs = oldvnode.data.attrs || {};\n    var out = {};\n    if (vModelValue(vnode.data) !== vModelValue(oldvnode.data)) {\n      out.vModel = true;\n      hasChanged = true;\n    }\n    Object.keys(validators).forEach(function (validator) {\n      if (attrs[validator] !== oldAttrs[validator]) {\n        out[validator] = true;\n        hasChanged = true;\n      }\n    });\n\n    // if is a component\n    if (vnode.componentOptions && vnode.componentOptions.propsData) {\n      var _attrs = vnode.componentOptions.propsData;\n      var _oldAttrs = oldvnode.componentOptions.propsData;\n      Object.keys(validators).forEach(function (validator) {\n        if (_attrs[validator] !== _oldAttrs[validator]) {\n          out[validator] = true;\n          hasChanged = true;\n        }\n      });\n    }\n    if (hasChanged) {\n      return out;\n    }\n  }\n  var vueFormValidator = {\n    name: 'vue-form-validator',\n    bind: function bind(el, binding, vnode) {\n      var fieldstate = binding.value.fieldstate;\n      var validators = binding.value.config.validators;\n      var attrs = vnode.data.attrs || {};\n      var inputName = getName(vnode);\n      if (!inputName) {\n        console.warn('vue-form: name attribute missing');\n        return;\n      }\n      if (attrs.debounce) {\n        debouncedValidators[fieldstate._id] = debounce(function (fieldstate, vnode) {\n          if (fieldstate._hasFocused) {\n            fieldstate._setDirty();\n          }\n          fieldstate._validate(vnode);\n        }, attrs.debounce);\n      }\n\n      // add validators\n      addValidators(attrs, validators, fieldstate._validators);\n\n      // if is a component, a validator attribute could be a prop this component uses\n      if (vnode.componentOptions && vnode.componentOptions.propsData) {\n        addValidators(vnode.componentOptions.propsData, validators, fieldstate._validators);\n      }\n      fieldstate._validate(vnode);\n\n      // native listeners\n      el.addEventListener('blur', function () {\n        fieldstate._setFocused(false);\n      }, false);\n      el.addEventListener('focus', function () {\n        fieldstate._setFocused(true);\n      }, false);\n\n      // component listeners\n      var vm = vnode.componentInstance;\n      if (vm) {\n        vm.$on('blur', function () {\n          fieldstate._setFocused(false);\n        });\n        vm.$on('focus', function () {\n          fieldstate._setFocused(true);\n        });\n        vm.$once('vf:addFocusListeners', function () {\n          el.addEventListener('focusout', function () {\n            fieldstate._setFocused(false);\n          }, false);\n          el.addEventListener('focusin', function () {\n            fieldstate._setFocused(true);\n          }, false);\n        });\n        vm.$on('vf:validate', function (data) {\n          if (!vm._vfValidationData_) {\n            addValidators(data, validators, fieldstate._validators);\n          }\n          vm._vfValidationData_ = data;\n          fieldstate._validate(vm.$vnode);\n        });\n      }\n    },\n    update: function update(el, binding, vnode, oldVNode) {\n      var validators = binding.value.config.validators;\n      var changes = compareChanges(vnode, oldVNode, validators);\n      var fieldstate = binding.value.fieldstate;\n      var attrs = vnode.data.attrs || {};\n      var vm = vnode.componentInstance;\n      if (vm && vm._vfValidationData_) {\n        attrs = extend({}, attrs, vm[vm._vfValidationData_]);\n      }\n      if (vnode.elm.className.indexOf(fieldstate._className[0]) === -1) {\n        vnode.elm.className = vnode.elm.className + ' ' + fieldstate._className.join(' ');\n      }\n      if (!changes) {\n        return;\n      }\n      if (changes.vModel) {\n        // re-validate all\n        if (attrs.debounce) {\n          fieldstate.$pending = true;\n          debouncedValidators[fieldstate._id](fieldstate, vnode);\n        } else {\n          if (fieldstate._hasFocused) {\n            fieldstate._setDirty();\n          }\n          fieldstate._validate(vnode);\n        }\n      } else {\n        // attributes have changed\n        // to do: loop through them and re-validate changed ones\n        //for(let prop in changes) {\n        //  fieldstate._validate(vnode, validator);\n        //}\n        // for now\n        fieldstate._validate(vnode);\n      }\n    }\n  };\n  function VueFormBase(options) {\n    var _components;\n    var c = extend(true, {}, config, options);\n    this.provide = function () {\n      return defineProperty({}, vueFormConfig, c);\n    };\n    this.components = (_components = {}, defineProperty(_components, c.formComponent, vueForm), defineProperty(_components, c.messagesComponent, messages), defineProperty(_components, c.validateComponent, validate), defineProperty(_components, c.fieldComponent, field), _components);\n    this.directives = {\n      vueFormValidator: vueFormValidator\n    };\n  }\n  var VueForm = function (_VueFormBase) {\n    inherits(VueForm, _VueFormBase);\n    function VueForm() {\n      classCallCheck(this, VueForm);\n      return possibleConstructorReturn(this, (VueForm.__proto__ || Object.getPrototypeOf(VueForm)).apply(this, arguments));\n    }\n    createClass(VueForm, null, [{\n      key: 'install',\n      value: function install(Vue, options) {\n        Vue.mixin(new this(options));\n      }\n    }, {\n      key: 'installed',\n      get: function get$$1() {\n        return !!this.install.done;\n      },\n      set: function set$$1(val) {\n        this.install.done = val;\n      }\n    }]);\n    return VueForm;\n  }(VueFormBase);\n  VueFormBase.call(VueForm);\n  // temp fix for vue 2.3.0\n  VueForm.options = new VueForm();\n  return VueForm;\n});","map":{"version":3,"names":["global","factory","exports","module","define","amd","VueForm","emailRegExp","urlRegExp","email","value","attrValue","vnode","test","_allowNulls","number","isNaN","url","validators","required","data","attrs","bool","componentOptions","propsData","Array","isArray","length","minlength","maxlength","pattern","_pattern","patternRegExp","RegExp","min","_min","type","toLowerCase","max","_max","config","formComponent","formTag","messagesComponent","messagesTag","showMessages","validateComponent","validateTag","fieldComponent","fieldTag","formClasses","dirty","pristine","valid","invalid","touched","untouched","focused","submitted","pending","validateClasses","inputClasses","Promise","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","obj","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","getClasses","classConfig","state","_ref","$dirty","$pristine","$valid","$invalid","$touched","$untouched","$focused","$pending","$submitted","addClass","el","className","classList","add","removeClass","remove","replace","split","join","vModelValue","model","directives","filter","v","name","getVModelAndLabel","nodes","foundVnodes","vModel","label","messages","traverse","node","tag","hyphenate","push","match","children","getName","hyphenateRE","str","randomId","Math","random","toString","substr","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","isShallowObjectDifferent","a","b","aValue","bValue","keys","sort","forEach","vueFormConfig","vueFormState","vueFormParentForm","hasOwn","hasOwnProperty","toStr","defineProperty$1","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","options","newValue","getProperty","extend","src","copy","copyIsArray","clone","deep","vueForm","render","h","_this","window","novalidate","on","submit","event","preventDefault","all","promises","then","_submit","$emit","reset","_reset","class","$slots","default","String","inject","provide","created","_this2","controls","formstate","$error","$submittedState","_id","_cloneState","cloned","JSON","parse","stringify","$set","_addControl","ctrl","$name","_removeControl","$delete","_validate","control","_hasFocused","_setUntouched","_setPristine","$watch","isDirty","isValid","isTouched","isFocused","isPending","computed","classes","methods","validate","commonjsGlobal","createCommonjsModule","fn","scope_eval","hasProp","slice","source","scope","values","Function","concat","findLabel","field","fieldname","isShown","$scopedSlots","out","autoLabel","for","show","Boolean","vModelnodes","$nextTick","messagesVm","componentInstance","id","fieldstate","custom","Number","getClasses$$1","s","reduce","error","inputClassName","mounted","vModelEls","$el","querySelectorAll","oldValue","_loop","k","_className","_this4","vm","pendingValidators","_val","prevVnode","$attrs","_setValidatorValidity","validator","_setValidity","_setDirty","_setTouched","_setFocused","_setHasFocused","_validators","_this3","emptyAndRequired","names","childvm","_vfValidationData_","undefined","isFunction","result","results","prop","oldV","destroyed","debouncedValidators","addValidators","fieldValidators","attr","compareChanges","oldvnode","hasChanged","oldAttrs","_attrs","_oldAttrs","vueFormValidator","bind","binding","inputName","console","warn","addEventListener","$on","$once","$vnode","update","oldVNode","changes","elm","indexOf","VueFormBase","_components","c","components","_VueFormBase","getPrototypeOf","install","Vue","mixin","get","get$$1","done","set","set$$1","val"],"sources":["/home/rodolfo/Descargas/FormularioConVueParada/node_modules/vue-form/dist/vue-form.js"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.VueForm = factory());\n}(this, (function () { 'use strict';\n\nvar emailRegExp = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i; // from angular\nvar urlRegExp = /^(http\\:\\/\\/|https\\:\\/\\/)(.{4,})$/;\n\nvar email = function email(value, attrValue, vnode) {\n  return emailRegExp.test(value);\n};\nemail._allowNulls = true;\n\nvar number = function number(value, attrValue, vnode) {\n  return !isNaN(value);\n};\nnumber._allowNulls = true;\n\nvar url = function url(value, attrValue, vnode) {\n  return urlRegExp.test(value);\n};\nurl._allowNulls = true;\n\nvar validators = {\n  email: email,\n  number: number,\n  url: url,\n  required: function required(value, attrValue, vnode) {\n    if (attrValue === false) {\n      return true;\n    }\n\n    if (value === 0) {\n      return true;\n    }\n\n    if (vnode.data.attrs && typeof vnode.data.attrs.bool !== 'undefined' || vnode.componentOptions && vnode.componentOptions.propsData && typeof vnode.componentOptions.propsData.bool !== 'undefined') {\n      // bool attribute is present, allow false pass validation\n      if (value === false) {\n        return true;\n      }\n    }\n\n    if (Array.isArray(value)) {\n      return !!value.length;\n    }\n    return !!value;\n  },\n  minlength: function minlength(value, length) {\n    return value.length >= length;\n  },\n  maxlength: function maxlength(value, length) {\n    return length >= value.length;\n  },\n  pattern: function pattern(value, _pattern) {\n    var patternRegExp = new RegExp('^' + _pattern + '$');\n    return patternRegExp.test(value);\n  },\n  min: function min(value, _min, vnode) {\n    if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n      return +value >= +_min;\n    }\n    return value >= _min;\n  },\n  max: function max(value, _max, vnode) {\n    if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n      return +_max >= +value;\n    }\n    return _max >= value;\n  }\n};\n\nvar config = {\n  validators: validators,\n  formComponent: 'VueForm',\n  formTag: 'form',\n  messagesComponent: 'FieldMessages',\n  messagesTag: 'div',\n  showMessages: '',\n  validateComponent: 'Validate',\n  validateTag: 'div',\n  fieldComponent: 'Field',\n  fieldTag: 'div',\n  formClasses: {\n    dirty: 'vf-form-dirty',\n    pristine: 'vf-form-pristine',\n    valid: 'vf-form-valid',\n    invalid: 'vf-form-invalid',\n    touched: 'vf-form-touched',\n    untouched: 'vf-form-untouched',\n    focused: 'vf-form-focused',\n    submitted: 'vf-form-submitted',\n    pending: 'vf-form-pending'\n  },\n  validateClasses: {\n    dirty: 'vf-field-dirty',\n    pristine: 'vf-field-pristine',\n    valid: 'vf-field-valid',\n    invalid: 'vf-field-invalid',\n    touched: 'vf-field-touched',\n    untouched: 'vf-field-untouched',\n    focused: 'vf-field-focused',\n    submitted: 'vf-field-submitted',\n    pending: 'vf-field-pending'\n  },\n  inputClasses: {\n    dirty: 'vf-dirty',\n    pristine: 'vf-pristine',\n    valid: 'vf-valid',\n    invalid: 'vf-invalid',\n    touched: 'vf-touched',\n    untouched: 'vf-untouched',\n    focused: 'vf-focused',\n    submitted: 'vf-submitted',\n    pending: 'vf-pending'\n  },\n  Promise: typeof Promise === 'function' ? Promise : null\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nfunction getClasses(classConfig, state) {\n  var _ref;\n\n  return _ref = {}, defineProperty(_ref, classConfig.dirty, state.$dirty), defineProperty(_ref, classConfig.pristine, state.$pristine), defineProperty(_ref, classConfig.valid, state.$valid), defineProperty(_ref, classConfig.invalid, state.$invalid), defineProperty(_ref, classConfig.touched, state.$touched), defineProperty(_ref, classConfig.untouched, state.$untouched), defineProperty(_ref, classConfig.focused, state.$focused), defineProperty(_ref, classConfig.pending, state.$pending), defineProperty(_ref, classConfig.submitted, state.$submitted), _ref;\n}\n\nfunction addClass(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    el.className += ' ' + className;\n  }\n}\n\nfunction removeClass(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  }\n}\n\nfunction vModelValue(data) {\n  if (data.model) {\n    return data.model.value;\n  }\n  return data.directives.filter(function (v) {\n    return v.name === 'model';\n  })[0].value;\n}\n\nfunction getVModelAndLabel(nodes, config) {\n  var foundVnodes = {\n    vModel: [],\n    label: null,\n    messages: null\n  };\n\n  if (!nodes) {\n    return foundVnodes;\n  }\n\n  function traverse(nodes) {\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n\n      if (node.componentOptions) {\n        if (node.componentOptions.tag === hyphenate(config.messagesComponent)) {\n          foundVnodes.messages = node;\n        }\n      }\n\n      if (node.tag === 'label' && !foundVnodes.label) {\n        foundVnodes.label = node;\n      }\n\n      if (node.data) {\n        if (node.data.model) {\n          // model check has to come first. If a component has\n          // a directive and v-model, the directive will be in .directives\n          // and v-modelstored in .model\n          foundVnodes.vModel.push(node);\n        } else if (node.data.directives) {\n          var match = node.data.directives.filter(function (v) {\n            return v.name === 'model';\n          });\n          if (match.length) {\n            foundVnodes.vModel.push(node);\n          }\n        }\n      }\n      if (node.children) {\n        traverse(node.children);\n      } else if (node.componentOptions && node.componentOptions.children) {\n        traverse(node.componentOptions.children);\n      }\n    }\n  }\n\n  traverse(nodes);\n\n  return foundVnodes;\n}\n\nfunction getName(vnode) {\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.name) {\n    return vnode.data.attrs.name;\n  } else if (vnode.componentOptions && vnode.componentOptions.propsData && vnode.componentOptions.propsData.name) {\n    return vnode.componentOptions.propsData.name;\n  }\n}\n\nvar hyphenateRE = /([^-])([A-Z])/g;\nfunction hyphenate(str) {\n  return str.replace(hyphenateRE, '$1-$2').replace(hyphenateRE, '$1-$2').toLowerCase();\n}\n\nfunction randomId() {\n  return Math.random().toString(36).substr(2, 10);\n}\n\n// https://davidwalsh.name/javascript-debounce-function\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction isShallowObjectDifferent(a, b) {\n  var aValue = '';\n  var bValue = '';\n  Object.keys(a).sort().filter(function (v) {\n    return typeof a[v] !== 'function';\n  }).forEach(function (v) {\n    return aValue += a[v];\n  });\n  Object.keys(b).sort().filter(function (v) {\n    return typeof a[v] !== 'function';\n  }).forEach(function (v) {\n    return bValue += b[v];\n  });\n  return aValue !== bValue;\n}\n\nvar vueFormConfig = 'VueFormProviderConfig' + randomId();\nvar vueFormState = 'VueFormProviderState' + randomId();\nvar vueFormParentForm = 'VueFormProviderParentForm' + randomId();\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty$1 = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty$1 && options.name === '__proto__') {\n\t\tdefineProperty$1(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nvar extend = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\nvar vueForm = {\n  render: function render(h) {\n    var _this = this;\n\n    var attrs = {};\n\n    if (typeof window !== 'undefined') {\n      attrs.novalidate = '';\n    }\n\n    return h(this.tag || this.vueFormConfig.formTag, {\n      on: {\n        submit: function submit(event) {\n          if (_this.state.$pending) {\n            event.preventDefault();\n            _this.vueFormConfig.Promise.all(_this.promises).then(function () {\n              _this.state._submit();\n              _this.$emit('submit', event);\n              _this.promises = [];\n            });\n          } else {\n            _this.state._submit();\n            _this.$emit('submit', event);\n          }\n        },\n        reset: function reset(event) {\n          _this.state._reset();\n          _this.$emit('reset', event);\n        }\n      },\n      class: this.className,\n      attrs: attrs\n    }, [this.$slots.default]);\n  },\n\n  props: {\n    state: {\n      type: Object,\n      required: true\n    },\n    tag: String,\n    showMessages: String\n  },\n  inject: { vueFormConfig: vueFormConfig },\n  provide: function provide() {\n    var _ref;\n\n    return _ref = {}, defineProperty(_ref, vueFormState, this.state), defineProperty(_ref, vueFormParentForm, this), _ref;\n  },\n\n  data: function data() {\n    return {\n      promises: []\n    };\n  },\n  created: function created() {\n    var _this2 = this;\n\n    if (!this.state) {\n      return;\n    }\n    var controls = {};\n    var state = this.state;\n    var formstate = {\n      $dirty: false,\n      $pristine: true,\n      $valid: true,\n      $invalid: false,\n      $submitted: false,\n      $touched: false,\n      $untouched: true,\n      $focused: false,\n      $pending: false,\n      $error: {},\n      $submittedState: {},\n      _id: '',\n      _submit: function _submit() {\n        _this2.state.$submitted = true;\n        _this2.state._cloneState();\n      },\n      _cloneState: function _cloneState() {\n        var cloned = JSON.parse(JSON.stringify(state));\n        delete cloned.$submittedState;\n        Object.keys(cloned).forEach(function (key) {\n          _this2.$set(_this2.state.$submittedState, key, cloned[key]);\n        });\n      },\n      _addControl: function _addControl(ctrl) {\n        controls[ctrl.$name] = ctrl;\n        _this2.$set(state, ctrl.$name, ctrl);\n      },\n      _removeControl: function _removeControl(ctrl) {\n        delete controls[ctrl.$name];\n        _this2.$delete(_this2.state, ctrl.$name);\n        _this2.$delete(_this2.state.$error, ctrl.$name);\n      },\n      _validate: function _validate() {\n        Object.keys(controls).forEach(function (key) {\n          controls[key]._validate();\n        });\n      },\n      _reset: function _reset() {\n        state.$submitted = false;\n        state.$pending = false;\n        state.$submittedState = {};\n        Object.keys(controls).forEach(function (key) {\n          var control = controls[key];\n          control._hasFocused = false;\n          control._setUntouched();\n          control._setPristine();\n          control.$submitted = false;\n          control.$pending = false;\n        });\n      }\n    };\n\n    Object.keys(formstate).forEach(function (key) {\n      _this2.$set(_this2.state, key, formstate[key]);\n    });\n\n    this.$watch('state', function () {\n      var isDirty = false;\n      var isValid = true;\n      var isTouched = false;\n      var isFocused = false;\n      var isPending = false;\n      Object.keys(controls).forEach(function (key) {\n        var control = controls[key];\n\n        control.$submitted = state.$submitted;\n\n        if (control.$dirty) {\n          isDirty = true;\n        }\n        if (control.$touched) {\n          isTouched = true;\n        }\n        if (control.$focused) {\n          isFocused = true;\n        }\n        if (control.$pending) {\n          isPending = true;\n        }\n        if (!control.$valid) {\n          isValid = false;\n          // add control to errors\n          _this2.$set(state.$error, control.$name, control);\n        } else {\n          _this2.$delete(state.$error, control.$name);\n        }\n      });\n\n      state.$dirty = isDirty;\n      state.$pristine = !isDirty;\n      state.$touched = isTouched;\n      state.$untouched = !isTouched;\n      state.$focused = isFocused;\n      state.$valid = isValid;\n      state.$invalid = !isValid;\n      state.$pending = isPending;\n    }, {\n      deep: true,\n      immediate: true\n    });\n\n    /* watch pristine? if set to true, set all children to pristine\r\n    Object.keys(controls).forEach((ctrl) => {\r\n      controls[ctrl].setPristine();\r\n    });*/\n  },\n\n  computed: {\n    className: function className() {\n      var classes = getClasses(this.vueFormConfig.formClasses, this.state);\n      return classes;\n    }\n  },\n  methods: {\n    reset: function reset() {\n      this.state._reset();\n    },\n    validate: function validate() {\n      this.state._validate();\n    }\n  }\n};\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\n\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar scope_eval = createCommonjsModule(function (module) {\n// Generated by CoffeeScript 1.10.0\n(function() {\n  var hasProp = {}.hasOwnProperty,\n    slice = [].slice;\n\n  module.exports = function(source, scope) {\n    var key, keys, value, values;\n    keys = [];\n    values = [];\n    for (key in scope) {\n      if (!hasProp.call(scope, key)) continue;\n      value = scope[key];\n      if (key === 'this') {\n        continue;\n      }\n      keys.push(key);\n      values.push(value);\n    }\n    return Function.apply(null, slice.call(keys).concat([\"return eval(\" + (JSON.stringify(source)) + \")\"])).apply(scope[\"this\"], values);\n  };\n\n}).call(commonjsGlobal);\n});\n\nfunction findLabel(nodes) {\n  if (!nodes) {\n    return;\n  }\n  for (var i = 0; i < nodes.length; i++) {\n    var vnode = nodes[i];\n    if (vnode.tag === 'label') {\n      return nodes[i];\n    } else if (nodes[i].children) {\n      return findLabel(nodes[i].children);\n    }\n  }\n}\n\nvar messages = {\n  inject: { vueFormConfig: vueFormConfig, vueFormState: vueFormState, vueFormParentForm: vueFormParentForm },\n  render: function render(h) {\n    var _this = this;\n\n    var children = [];\n    var field = this.formstate[this.fieldname];\n    if (field && field.$error && this.isShown) {\n      Object.keys(field.$error).forEach(function (key) {\n        if (_this.$slots[key] || _this.$scopedSlots[key]) {\n          var out = _this.$slots[key] || _this.$scopedSlots[key](field);\n          if (_this.autoLabel) {\n            var label = findLabel(out);\n            if (label) {\n              label.data = label.data || {};\n              label.data.attrs = label.data.attrs || {};\n              label.data.attrs.for = field._id;\n            }\n          }\n          children.push(out);\n        }\n      });\n      if (!children.length && field.$valid) {\n        if (this.$slots.default || this.$scopedSlots.default) {\n          var out = this.$slots.default || this.$scopedSlots.default(field);\n          if (this.autoLabel) {\n            var label = findLabel(out);\n            if (label) {\n              label.data = label.data || {};\n              label.data.attrs = label.data.attrs || {};\n              label.data.attrs.for = field._id;\n            }\n          }\n          children.push(out);\n        }\n      }\n    }\n    return h(this.tag || this.vueFormConfig.messagesTag, children);\n  },\n\n  props: {\n    state: Object,\n    name: String,\n    show: {\n      type: String,\n      default: ''\n    },\n    tag: {\n      type: String\n    },\n    autoLabel: Boolean\n  },\n  data: function data() {\n    return {\n      formstate: null,\n      fieldname: ''\n    };\n  },\n  created: function created() {\n    this.fieldname = this.name;\n    this.formstate = this.state || this.vueFormState;\n  },\n\n  computed: {\n    isShown: function isShown() {\n      var field = this.formstate[this.fieldname];\n      var show = this.show || this.vueFormParentForm.showMessages || this.vueFormConfig.showMessages;\n\n      if (!show || !field) {\n        return true;\n      }\n\n      return scope_eval(show, field);\n    }\n  }\n};\n\nvar validate = {\n  render: function render(h) {\n    var _this = this;\n\n    var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n    var vModelnodes = foundVnodes.vModel;\n    var attrs = {\n      for: null\n    };\n    if (vModelnodes.length) {\n      this.name = getName(vModelnodes[0]);\n\n      if (foundVnodes.messages) {\n        this.$nextTick(function () {\n          var messagesVm = foundVnodes.messages.componentInstance;\n          if (messagesVm) {\n            messagesVm.fieldname = messagesVm.fieldname || _this.name;\n          }\n        });\n      }\n\n      if (this.autoLabel) {\n        var id = vModelnodes[0].data.attrs.id || this.fieldstate._id;\n        this.fieldstate._id = id;\n        vModelnodes[0].data.attrs.id = id;\n        if (foundVnodes.label) {\n          foundVnodes.label.data = foundVnodes.label.data || {};\n          foundVnodes.label.data.attrs = foundVnodes.label.data.attrs || {};\n          foundVnodes.label.data.attrs.for = id;\n        } else if (this.tag === 'label') {\n          attrs.for = id;\n        }\n      }\n      vModelnodes.forEach(function (vnode) {\n        if (!vnode.data.directives) {\n          vnode.data.directives = [];\n        }\n        vnode.data.directives.push({ name: 'vue-form-validator', value: { fieldstate: _this.fieldstate, config: _this.vueFormConfig } });\n        vnode.data.attrs['vue-form-validator'] = '';\n        vnode.data.attrs['debounce'] = _this.debounce;\n      });\n    } else {\n      //console.warn('Element with v-model not found');\n    }\n    return h(this.tag || this.vueFormConfig.validateTag, { 'class': this.className, attrs: attrs }, this.$slots.default);\n  },\n\n  props: {\n    state: Object,\n    custom: null,\n    autoLabel: Boolean,\n    tag: {\n      type: String\n    },\n    debounce: Number\n  },\n  inject: { vueFormConfig: vueFormConfig, vueFormState: vueFormState, vueFormParentForm: vueFormParentForm },\n  data: function data() {\n    return {\n      name: '',\n      formstate: null,\n      fieldstate: {}\n    };\n  },\n\n  methods: {\n    getClasses: function getClasses$$1(classConfig) {\n      var s = this.fieldstate;\n      return Object.keys(s.$error).reduce(function (classes, error) {\n        classes[classConfig.invalid + '-' + hyphenate(error)] = true;\n        return classes;\n      }, getClasses(classConfig, s));\n    }\n  },\n  computed: {\n    className: function className() {\n      return this.getClasses(this.vueFormConfig.validateClasses);\n    },\n    inputClassName: function inputClassName() {\n      return this.getClasses(this.vueFormConfig.inputClasses);\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.fieldstate.$name = this.name;\n    this.formstate._addControl(this.fieldstate);\n\n    var vModelEls = this.$el.querySelectorAll('[vue-form-validator]');\n\n    // add classes to the input element\n    this.$watch('inputClassName', function (value, oldValue) {\n      var out = void 0;\n\n      var _loop = function _loop(i, el) {\n        if (oldValue) {\n          Object.keys(oldValue).filter(function (k) {\n            return oldValue[k];\n          }).forEach(function (k) {\n            return removeClass(el, k);\n          });\n        }\n        out = [];\n        Object.keys(value).filter(function (k) {\n          return value[k];\n        }).forEach(function (k) {\n          out.push(k);\n          addClass(el, k);\n        });\n      };\n\n      for (var i = 0, el; el = vModelEls[i++];) {\n        _loop(i, el);\n      }\n      _this2.fieldstate._className = out;\n    }, {\n      deep: true,\n      immediate: true\n    });\n\n    this.$watch('name', function (value, oldValue) {\n      _this2.formstate._removeControl(_this2.fieldstate);\n      _this2.fieldstate.$name = value;\n      _this2.formstate._addControl(_this2.fieldstate);\n    });\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.formstate = this.state || this.vueFormState;\n    var vm = this;\n    var pendingValidators = [];\n    var _val = void 0;\n    var prevVnode = void 0;\n    this.fieldstate = {\n      $name: '',\n      $dirty: false,\n      $pristine: true,\n      $valid: true,\n      $invalid: false,\n      $touched: false,\n      $untouched: true,\n      $focused: false,\n      $pending: false,\n      $submitted: false,\n      $error: {},\n      $attrs: {},\n      _className: null,\n      _id: 'vf' + randomId(),\n      _setValidatorValidity: function _setValidatorValidity(validator, isValid) {\n        if (isValid) {\n          vm.$delete(this.$error, validator);\n        } else {\n          vm.$set(this.$error, validator, true);\n        }\n      },\n      _setValidity: function _setValidity(isValid) {\n        this.$valid = isValid;\n        this.$invalid = !isValid;\n      },\n      _setDirty: function _setDirty() {\n        this.$dirty = true;\n        this.$pristine = false;\n      },\n      _setPristine: function _setPristine() {\n        this.$dirty = false;\n        this.$pristine = true;\n      },\n      _setTouched: function _setTouched() {\n        this.$touched = true;\n        this.$untouched = false;\n      },\n      _setUntouched: function _setUntouched() {\n        this.$touched = false;\n        this.$untouched = true;\n      },\n      _setFocused: function _setFocused(value) {\n        this.$focused = typeof value === 'boolean' ? value : false;\n        if (this.$focused) {\n          this._setHasFocused();\n        } else {\n          this._setTouched();\n        }\n      },\n      _setHasFocused: function _setHasFocused() {\n        this._hasFocused = true;\n      },\n\n      _hasFocused: false,\n      _validators: {},\n      _validate: function _validate(vnode) {\n        var _this3 = this;\n\n        if (!vnode) {\n          vnode = prevVnode;\n        } else {\n          prevVnode = vnode;\n        }\n        this.$pending = true;\n        var isValid = true;\n        var emptyAndRequired = false;\n        var value = vModelValue(vnode.data);\n        _val = value;\n\n        var pending = {\n          promises: [],\n          names: []\n        };\n\n        pendingValidators.push(pending);\n\n        var attrs = vnode.data.attrs || {};\n        var childvm = vnode.componentInstance;\n        if (childvm && childvm._vfValidationData_) {\n          attrs = extend({}, attrs, childvm._vfValidationData_);\n        }\n\n        var propsData = vnode.componentOptions && vnode.componentOptions.propsData ? vnode.componentOptions.propsData : {};\n\n        Object.keys(this._validators).forEach(function (validator) {\n          // when value is empty and current validator is not the required validator, the field is valid\n          if ((value === '' || value === undefined || value === null) && validator !== 'required') {\n            _this3._setValidatorValidity(validator, true);\n            emptyAndRequired = true;\n            // return early, required validator will\n            // fall through if it is present\n            return;\n          }\n\n          var attrValue = typeof attrs[validator] !== 'undefined' ? attrs[validator] : propsData[validator];\n          var isFunction = typeof _this3._validators[validator] === 'function';\n\n          // match vue behaviour, ignore if attribute is null or undefined. But for type=email|url|number and custom validators, the value will be null, so allow with _allowNulls\n          if (isFunction && (attrValue === null || typeof attrValue === 'undefined') && !_this3._validators[validator]._allowNulls) {\n            return;\n          }\n\n          if (attrValue) {\n            _this3.$attrs[validator] = attrValue;\n          }\n\n          var result = isFunction ? _this3._validators[validator](value, attrValue, vnode) : vm.custom[validator];\n\n          if (typeof result === 'boolean') {\n            if (result) {\n              _this3._setValidatorValidity(validator, true);\n            } else {\n              isValid = false;\n              _this3._setValidatorValidity(validator, false);\n            }\n          } else {\n            pending.promises.push(result);\n            pending.names.push(validator);\n            vm.vueFormParentForm.promises.push(result);\n          }\n        });\n\n        if (pending.promises.length) {\n          vm.vueFormConfig.Promise.all(pending.promises).then(function (results) {\n\n            // only concerned with the last promise results, in case\n            // async responses return out of order\n            if (pending !== pendingValidators[pendingValidators.length - 1]) {\n              //console.log('ignoring old promise', pending.promises);\n              return;\n            }\n\n            pendingValidators = [];\n\n            results.forEach(function (result, i) {\n              var name = pending.names[i];\n              if (result) {\n                _this3._setValidatorValidity(name, true);\n              } else {\n                isValid = false;\n                _this3._setValidatorValidity(name, false);\n              }\n            });\n            _this3._setValidity(isValid);\n            _this3.$pending = false;\n          });\n        } else {\n          this._setValidity(isValid);\n          this.$pending = false;\n        }\n      }\n    };\n\n    // add custom validators\n    if (this.custom) {\n      Object.keys(this.custom).forEach(function (prop) {\n        if (typeof _this4.custom[prop] === 'function') {\n          _this4.custom[prop]._allowNulls = true;\n          _this4.fieldstate._validators[prop] = _this4.custom[prop];\n        } else {\n          _this4.fieldstate._validators[prop] = _this4.custom[prop];\n        }\n      });\n    }\n\n    this.$watch('custom', function (v, oldV) {\n      if (!oldV || !v) {\n        return;\n      }\n      if (isShallowObjectDifferent(v, oldV)) {\n        _this4.fieldstate._validate();\n      }\n    }, {\n      deep: true\n    });\n  },\n  destroyed: function destroyed() {\n    this.formstate._removeControl(this.fieldstate);\n  }\n};\n\nvar field = {\n  inject: { vueFormConfig: vueFormConfig },\n  render: function render(h) {\n    var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n    var vModelnodes = foundVnodes.vModel;\n    var attrs = {\n      for: null\n    };\n    if (vModelnodes.length) {\n      if (this.autoLabel) {\n        var id = vModelnodes[0].data.attrs && vModelnodes[0].data.attrs.id || 'vf' + randomId();\n        vModelnodes[0].data.attrs.id = id;\n        if (foundVnodes.label) {\n          foundVnodes.label.data = foundVnodes.label.data || {};\n          foundVnodes.label.data.attrs = foundVnodes.label.data.attrs = {};\n          foundVnodes.label.data.attrs.for = id;\n        } else if (this.tag === 'label') {\n          attrs.for = id;\n        }\n      }\n    }\n    return h(this.tag || this.vueFormConfig.fieldTag, { attrs: attrs }, this.$slots.default);\n  },\n\n  props: {\n    tag: {\n      type: String\n    },\n    autoLabel: {\n      type: Boolean,\n      default: true\n    }\n  }\n};\n\nvar debouncedValidators = {};\n\nfunction addValidators(attrs, validators, fieldValidators) {\n  Object.keys(attrs).forEach(function (attr) {\n    var prop = attr === 'type' ? attrs[attr].toLowerCase() : attr.toLowerCase();\n\n    if (validators[prop] && !fieldValidators[prop]) {\n      fieldValidators[prop] = validators[prop];\n    }\n  });\n}\n\nfunction compareChanges(vnode, oldvnode, validators) {\n\n  var hasChanged = false;\n  var attrs = vnode.data.attrs || {};\n  var oldAttrs = oldvnode.data.attrs || {};\n  var out = {};\n\n  if (vModelValue(vnode.data) !== vModelValue(oldvnode.data)) {\n    out.vModel = true;\n    hasChanged = true;\n  }\n\n  Object.keys(validators).forEach(function (validator) {\n    if (attrs[validator] !== oldAttrs[validator]) {\n      out[validator] = true;\n      hasChanged = true;\n    }\n  });\n\n  // if is a component\n  if (vnode.componentOptions && vnode.componentOptions.propsData) {\n    var _attrs = vnode.componentOptions.propsData;\n    var _oldAttrs = oldvnode.componentOptions.propsData;\n    Object.keys(validators).forEach(function (validator) {\n      if (_attrs[validator] !== _oldAttrs[validator]) {\n        out[validator] = true;\n        hasChanged = true;\n      }\n    });\n  }\n\n  if (hasChanged) {\n    return out;\n  }\n}\n\nvar vueFormValidator = {\n  name: 'vue-form-validator',\n  bind: function bind(el, binding, vnode) {\n    var fieldstate = binding.value.fieldstate;\n    var validators = binding.value.config.validators;\n\n    var attrs = vnode.data.attrs || {};\n    var inputName = getName(vnode);\n\n    if (!inputName) {\n      console.warn('vue-form: name attribute missing');\n      return;\n    }\n\n    if (attrs.debounce) {\n      debouncedValidators[fieldstate._id] = debounce(function (fieldstate, vnode) {\n        if (fieldstate._hasFocused) {\n          fieldstate._setDirty();\n        }\n        fieldstate._validate(vnode);\n      }, attrs.debounce);\n    }\n\n    // add validators\n    addValidators(attrs, validators, fieldstate._validators);\n\n    // if is a component, a validator attribute could be a prop this component uses\n    if (vnode.componentOptions && vnode.componentOptions.propsData) {\n      addValidators(vnode.componentOptions.propsData, validators, fieldstate._validators);\n    }\n\n    fieldstate._validate(vnode);\n\n    // native listeners\n    el.addEventListener('blur', function () {\n      fieldstate._setFocused(false);\n    }, false);\n    el.addEventListener('focus', function () {\n      fieldstate._setFocused(true);\n    }, false);\n\n    // component listeners\n    var vm = vnode.componentInstance;\n    if (vm) {\n      vm.$on('blur', function () {\n        fieldstate._setFocused(false);\n      });\n      vm.$on('focus', function () {\n        fieldstate._setFocused(true);\n      });\n\n      vm.$once('vf:addFocusListeners', function () {\n        el.addEventListener('focusout', function () {\n          fieldstate._setFocused(false);\n        }, false);\n        el.addEventListener('focusin', function () {\n          fieldstate._setFocused(true);\n        }, false);\n      });\n\n      vm.$on('vf:validate', function (data) {\n        if (!vm._vfValidationData_) {\n          addValidators(data, validators, fieldstate._validators);\n        }\n        vm._vfValidationData_ = data;\n        fieldstate._validate(vm.$vnode);\n      });\n    }\n  },\n  update: function update(el, binding, vnode, oldVNode) {\n    var validators = binding.value.config.validators;\n\n    var changes = compareChanges(vnode, oldVNode, validators);\n    var fieldstate = binding.value.fieldstate;\n\n\n    var attrs = vnode.data.attrs || {};\n    var vm = vnode.componentInstance;\n    if (vm && vm._vfValidationData_) {\n      attrs = extend({}, attrs, vm[vm._vfValidationData_]);\n    }\n\n    if (vnode.elm.className.indexOf(fieldstate._className[0]) === -1) {\n      vnode.elm.className = vnode.elm.className + ' ' + fieldstate._className.join(' ');\n    }\n\n    if (!changes) {\n      return;\n    }\n\n    if (changes.vModel) {\n      // re-validate all\n      if (attrs.debounce) {\n        fieldstate.$pending = true;\n        debouncedValidators[fieldstate._id](fieldstate, vnode);\n      } else {\n        if (fieldstate._hasFocused) {\n          fieldstate._setDirty();\n        }\n        fieldstate._validate(vnode);\n      }\n    } else {\n      // attributes have changed\n      // to do: loop through them and re-validate changed ones\n      //for(let prop in changes) {\n      //  fieldstate._validate(vnode, validator);\n      //}\n      // for now\n      fieldstate._validate(vnode);\n    }\n  }\n};\n\nfunction VueFormBase(options) {\n  var _components;\n\n  var c = extend(true, {}, config, options);\n  this.provide = function () {\n    return defineProperty({}, vueFormConfig, c);\n  };\n  this.components = (_components = {}, defineProperty(_components, c.formComponent, vueForm), defineProperty(_components, c.messagesComponent, messages), defineProperty(_components, c.validateComponent, validate), defineProperty(_components, c.fieldComponent, field), _components);\n  this.directives = { vueFormValidator: vueFormValidator };\n}\n\nvar VueForm = function (_VueFormBase) {\n  inherits(VueForm, _VueFormBase);\n\n  function VueForm() {\n    classCallCheck(this, VueForm);\n    return possibleConstructorReturn(this, (VueForm.__proto__ || Object.getPrototypeOf(VueForm)).apply(this, arguments));\n  }\n\n  createClass(VueForm, null, [{\n    key: 'install',\n    value: function install(Vue, options) {\n      Vue.mixin(new this(options));\n    }\n  }, {\n    key: 'installed',\n    get: function get$$1() {\n      return !!this.install.done;\n    },\n    set: function set$$1(val) {\n      this.install.done = val;\n    }\n  }]);\n  return VueForm;\n}(VueFormBase);\n\nVueFormBase.call(VueForm);\n// temp fix for vue 2.3.0\nVueForm.options = new VueForm();\n\nreturn VueForm;\n\n})));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}